<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="diet.css">
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script defer src="slide.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div class="main_container" id="main">

        <div class="deco">
            <h2>식단 기록하기</h2>
            <p style="margin: 10px;">오늘의 식탁을 분석해드립니다!</p>
            <img src="img/chara1.png" width="100px" height="100px" style="display: block; margin: 0 auto;">
        </div>

        <form action="home.html">

            <select>
                <option>아침</option>
                <option>점심</option>
                <option>저녁</option>
                <option>간식</option>
            </select>
    
            <input type="date">
    
            <div class="upload-box">
                <div id="drop-file" class="drag-file">
                    <img src="img/salad.png" width="40px" height="40px">
                <label class="file-label" for="chooseFile" style="margin-top: 0;">식단 사진을 업로드해주세요.</label>
                <img src="" alt="미리보기 이미지" class="preview" id="image_preview">
                </div>
                <input class="file" id="chooseFile" type="file" onchange="dropFile.handleFiles(this.files)" accept="image/*">
            </div>

            <input type="submit" value="기록하기"/>
        </form>

    </div>
</body>
</html>

<script>
    function openPopup() {
		var popup = document.getElementById("popup");
		popup.style.visibility = "visible";
		popup.style.opacity = "1";
	}

    function closePopup() {
		var popup = document.getElementById("popup");
		popup.style.visibility = "hidden";
		showWelcomeMessage()
	}

    function openPopup2() {
		var popup = document.getElementById("popup2");
		popup.style.visibility = "visible";
		popup.style.opacity = "1";
	}

    function openPopup3() {
		var popup = document.getElementById("popup3");
		popup.style.visibility = "visible";
		popup.style.opacity = "1";
	}

    function openPopup4() {
		var popup = document.getElementById("popup4");
		popup.style.visibility = "visible";
		popup.style.opacity = "1";
	}

    function openPopup5() {
		var popup = document.getElementById("popup5");
		popup.style.visibility = "visible";
		popup.style.opacity = "1";
	}

    function openPopup6() {
		var popup = document.getElementById("popup6");
		popup.style.visibility = "visible";
		popup.style.opacity = "1";
	}


    $(document).ready(function() {
        let now = 0;

        $('.meals_btn').on('click', function() {
            now++;
            if (now % 2 == 1) {
                var info = document.getElementById('meal_info')
                info.style.display = "block";
            }

            else {
                var info = document.getElementById('meal_info')
                info.style.display = "none";
            }
        });
    });


    $(document).ready(function() {
        let now = 1;  // 현재 위치
        const arr = ['','food', 'exercise', 'indicator','report','mypage'];

        $(`#menu${now}`).css('background-color', '#00BCD4');
        $(`#${arr[now]}`).css('display', 'block');

        // 초기 클릭 이벤트 등록
        $(`#menu${now}`).on('click', function() {
            // 클릭한 메뉴 항목에만 배경색을 적용
            $(`#menu${now}`).css('background-color', '#00BCD4');
            $(`#${arr[now]}`).css('display', 'block');
        });
        
        // 다른 메뉴를 클릭했을 때 now 값을 업데이트하고 배경색 변경
        $('ul li').on('click', function() {
 
            $(`#menu${now}`).css('background-color', ''); // 이전 메뉴의 배경색 초기화
            $(`#${arr[now]}`).css('display', 'none');
            
            now = $(this).attr('id').replace('menu', ''); // 나중에 클릭된 거 


            $(`#menu${now}`).css('background-color', '#00BCD4');
            $(`#${arr[now]}`).css('display', 'block');
            
        });

    });



    document.getElementById('chooseFile').addEventListener('change', function(event) {
        var input = event.target;
        var label = document.querySelector('.file-label');
        var imgPreview = document.getElementById('image_preview');

        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function(e) {
                imgPreview.src = e.target.result;
                imgPreview.style.display = 'block';
                label.style.display = 'none';
            };

            reader.readAsDataURL(input.files[0]);
        }
    });





    // document.getElementById('forms').onsubmit = function() {
    //     document.getElementById('loading').style.display = 'block';
    // };
</script>